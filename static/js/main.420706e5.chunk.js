(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var a=n(23),r=n.n(a),c=n(71),i=n.n(c),s=n(76),o=n(12),j=n(0),d=n(37),l=n(159),u=n(166),h=n(177),b=n(86),p=n(120),O=n(161),x=n(1);function m(e){var t=e.loading,n=e.weather;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{variant:"h5",children:"Cloud"}),Object(x.jsx)(p.a,{children:t?Object(x.jsx)(O.a,{}):"".concat(n.clouds.all,"%")})]})}function f(e){var t=e.currentDate;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{variant:"h5",children:"Date"}),Object(x.jsx)(p.a,{variant:"h6",children:t.toDateString()}),Object(x.jsx)(p.a,{variant:"h6",children:t.toLocaleTimeString()})]})}function g(e){var t=e.loading,n=e.weather;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{variant:"h5",children:"Humidity"}),Object(x.jsx)(p.a,{children:t?Object(x.jsx)(O.a,{}):"".concat(n.main.humidity,"%")})]})}function v(e){var t=e.loading,n=e.unitType,a=e.weather;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{variant:"h6",children:"Pressure"}),Object(x.jsx)(p.a,{variant:"body1",children:t?Object(x.jsx)(O.a,{}):"metric"===n?"".concat(a.main.pressure," hPa"):"".concat((.750061683*a.main.pressure).toFixed(1)," inHg")})]})}function y(e){var t=e.loading,n=e.weather;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{variant:"h5",children:"Sun"}),Object(x.jsx)(p.a,{variant:"h6",children:"Sunrise"}),Object(x.jsx)(p.a,{variant:"body1",children:t?Object(x.jsx)(O.a,{}):w(n.sys.sunrise)}),Object(x.jsx)(p.a,{variant:"h6",children:"Sunset"}),Object(x.jsx)(p.a,{variant:"body1",children:t?Object(x.jsx)(O.a,{}):w(n.sys.sunset)})]})}function w(e){return new Date(1e3*e).toLocaleTimeString()}function T(e,t,n){return t===n?e:"F"===n?function(e,t){var n=0;"C"===t&&(n=9*e/5+32);"K"===t&&(n=9*(e-273.15)/5+32);return Math.round(100*n)/100}(e,t):"C"===n?function(e,t){var n=0;"F"===t&&(n=5*(e-32)/9);"K"===t&&(n=e-273.15);return Math.round(100*n)/100}(e,t):"K"===n?function(e,t){var n=0;"F"===t&&(n=5*(e-32)/9+273.15);"C"===t&&(n=e+273.15);return Math.round(100*n)/100}(e,t):0}function C(e){var t=e.loading,n=e.weather,a="imperial"===e.unitType?"F":"C";return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{variant:"h5",children:"Temperature"}),Object(x.jsx)(p.a,{variant:"h4",children:t?Object(x.jsx)(O.a,{}):"".concat(T(n.main.temp,"K",a),"\xb0").concat(a)}),Object(x.jsx)(p.a,{children:t?Object(x.jsx)(O.a,{}):"It feels like ".concat(T(n.main.feels_like,"K",a),"\xb0").concat(a)}),Object(x.jsx)(p.a,{children:t?Object(x.jsx)(O.a,{}):"".concat(T(n.main.temp_min,"K",a),"\xb0").concat(a," Low \n          to ").concat(T(n.main.temp_max,"K",a),"\xb0").concat(a," High")})]})}function k(e){var t=e.loading,n=e.weather;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{variant:"h5",children:"Visibility"}),Object(x.jsx)(p.a,{children:t?Object(x.jsx)(O.a,{}):S(n.visibility)})]})}function S(e){return e<1e3?"".concat(e," m"):"".concat((e/1e3).toFixed(1)," km")}function F(e){var t=e.loading,n=e.weather;return Object(x.jsxs)(x.Fragment,{children:[t?Object(x.jsx)(O.a,{variant:"rectangular",width:100,height:100,style:{margin:"0 auto"}}):Object(x.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(n.weather[0].icon,"@2x.png"),alt:n.weather[0].description,width:"100",height:"100"}),Object(x.jsx)(p.a,{variant:"h4",children:t?Object(x.jsx)(O.a,{}):n.weather[0].main}),Object(x.jsx)(p.a,{children:t?Object(x.jsx)(O.a,{}):"".concat(n.name," has ").concat(n.weather[0].description)})]})}function L(e){var t=e.loading,n=e.weather,a=e.unitType;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(p.a,{variant:"h5",children:"Wind"}),Object(x.jsx)(p.a,{children:t?Object(x.jsx)(O.a,{}):"metric"===a?"".concat(n.wind.speed," m/s"):"".concat((2.237*n.wind.speed).toFixed(1)," mph")})]})}var D=n(162),I=n(145),R=n(167),P=Object(I.a)(R.a)((function(e){return{padding:"1rem",margin:"0.25rem",textAlign:"center",backgroundColor:e.theme.palette.primary.main,opacity:"0.75"}}));function U(){return Object(x.jsx)("footer",{children:Object(x.jsx)(P,{children:Object(x.jsx)(D.a,{variant:"contained",color:"secondary",onClick:function(){return window.open("https://github.com/NathenDT/Weather-App","_blank","noreferrer")},children:"See the code"})})})}var A=n(81);function E(e){var t=e.loading,n=e.weather;return Object(x.jsxs)(A.a,{children:[Object(x.jsx)("link",{rel:"icon",href:t?"http://openweathermap.org/img/wn/01d@2x.png":"https://openweathermap.org/img/wn/".concat(n.weather[0].icon,"@2x.png")}),Object(x.jsx)("title",{children:t?"Weather App":"".concat(n.name," has ").concat(n.weather[0].main)})]})}var _=n(163),K=n(147),M=n(46),W=n(62),N=n(168),H=n(146);function B(e){var t=e.children,n=e.cards,a=e.index,r=e.name,c=e.setCards,i=function(){return c(n.filter((function(e,t){return t!==a})))};return Object(x.jsx)(M.b,{draggableId:r,index:a,children:function(e){return Object(x.jsxs)(P,Object(W.a)(Object(W.a)(Object(W.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{sx:{position:"relative"},children:[Object(x.jsx)(N.a,{sx:{position:"absolute",top:"0",right:"0"},onClick:i,children:Object(x.jsx)(H.a,{})}),t]}))}},r)}function J(e){var t=e.cardsLeft,n=e.cardsList,a=e.cardsRight,r=e.setCardsLeft,c=e.setCardsRight,i=new d.a;return Object(x.jsx)(M.a,{onDragEnd:function(e){var n=e.source,s=e.destination;if(s){if(n.droppableId===s.droppableId)return"left"===n.droppableId?(t.splice(s.index,0,t.splice(n.index,1)[0]),i.set("cardsLeft",t.join("|"),{path:"/"}),r(t)):(a.splice(s.index,0,a.splice(n.index,1)[0]),i.set("cardsRight",a.join("|"),{path:"/"}),c(a));if("left"===n.droppableId){var o=t.splice(n.index,1)[0];a.splice(s.index,0,o)}else{var j=a.splice(n.index,1)[0];t.splice(s.index,0,j)}i.set("cardsLeft",t.join("|"),{path:"/"}),i.set("cardsRight",a.join("|"),{path:"/"}),r(t),c(a)}},children:Object(x.jsxs)(_.a,{container:!0,children:[Object(x.jsx)(z,{dropId:"left",cards:t,cardsList:n,setCards:r}),Object(x.jsx)(z,{dropId:"right",cards:a,cardsList:n,setCards:c})]})})}function z(e){var t=e.dropId,n=e.cards,a=e.cardsList,r=e.setCards;return Object(x.jsx)(_.a,{item:!0,xs:6,children:Object(x.jsx)(M.c,{droppableId:t,children:function(e){return Object(x.jsxs)(K.a,{ref:e.innerRef,children:[n.map((function(e,t){var c;return Object(x.jsx)(B,{name:e,index:t,cards:n,setCards:r,children:null===(c=a.find((function(t){return t.name===e})))||void 0===c?void 0:c.component},t)})),e.placeholder]})}})})}var V=n(165),q=n(156),G=n(151),Q=n(152),X=n(153),Y=n(14),Z=n(157),$=n(150),ee=n(169),te=n(170),ne=n(160),ae=n(171),re=n(172),ce=n(173),ie=["cloud","date","humidity","pressure","sun","temperature","visibility","weather","wind"];function se(e){var t=e.open,n=e.cardsLeft,a=e.cardsRight,r=e.setOpen,c=e.setCards,i=function(){r(!1)};return Object(x.jsxs)(Z.a,{open:t,onClose:i,fullWidth:!0,PaperProps:{sx:{bgcolor:"background.default"}},children:[Object(x.jsx)($.a,{children:"Add"}),Object(x.jsx)(ee.a,{children:Object(x.jsx)(P,{children:Object(x.jsx)(te.a,{children:0===ie.filter((function(e){return![].concat(Object(Y.a)(n),Object(Y.a)(a)).includes(e)})).length?Object(x.jsx)(p.a,{children:"No card deleted"}):ie.filter((function(e){return![].concat(Object(Y.a)(n),Object(Y.a)(a)).includes(e)})).map((function(e){return Object(x.jsxs)(ne.a,{children:[Object(x.jsx)(ae.a,{children:Object(x.jsx)(N.a,{onClick:function(){c([e].concat(Object(Y.a)(n)))},children:Object(x.jsx)(G.a,{})})}),Object(x.jsx)(re.a,{primary:e[0].toUpperCase()+e.slice(1)})]},e)}))})})}),Object(x.jsx)(ce.a,{children:Object(x.jsx)(D.a,{onClick:i,children:"Close"})})]})}var oe=n(164),je=n(174);function de(e){var t=e.themeType,n=e.setThemeType,a=new d.a;return Object(x.jsx)(_.a,{item:!0,xs:6,children:Object(x.jsxs)(P,{children:[Object(x.jsx)(p.a,{variant:"h6",children:"Theme"}),Object(x.jsxs)(oe.a,{value:t,exclusive:!0,onChange:function(e,t){t&&(console.log(t),a.set("themeType",t,{path:"/"}),n(t))},children:[Object(x.jsx)(je.a,{value:"light",children:"Light"}),Object(x.jsx)(je.a,{value:"dark",children:"Dark"}),Object(x.jsx)(je.a,{value:"time",children:"Time"})]}),"time"===t&&Object(x.jsx)(p.a,{variant:"body1",children:"The time theme will change based on sunrise/sunset."})]})})}function le(e){var t=e.unitType,n=e.setUnitType;return Object(x.jsx)(_.a,{item:!0,xs:6,children:Object(x.jsxs)(P,{children:[Object(x.jsx)(p.a,{variant:"h6",children:"Unit"}),Object(x.jsxs)(oe.a,{value:t,exclusive:!0,onChange:function(e,t){t&&n(t)},children:[Object(x.jsx)(je.a,{value:"imperial",children:"Imperial"}),Object(x.jsx)(je.a,{value:"metric",children:"Metric"})]})]})})}function ue(e){var t=e.open,n=e.themeType,a=e.unitType,r=e.setOpen,c=e.setThemeType,i=e.setUnitType,s=function(){r(!1)};return Object(x.jsxs)(Z.a,{open:t,onClose:s,fullWidth:!0,PaperProps:{sx:{bgcolor:"background.default"}},children:[Object(x.jsx)($.a,{children:"Settings"}),Object(x.jsx)(ee.a,{children:Object(x.jsxs)(_.a,{container:!0,columns:{xs:6,sm:12},children:[Object(x.jsx)(le,{unitType:a,setUnitType:i}),Object(x.jsx)(de,{themeType:n,setThemeType:c})]})}),Object(x.jsx)(ce.a,{children:Object(x.jsx)(D.a,{onClick:s,children:"Close"})})]})}function he(e){var t=e.cardLeft,n=e.cardRight,a=e.themeType,r=e.unitType,c=e.setCards,i=e.setThemeType,s=e.setUnitType,d=Object(j.useState)(!1),l=Object(o.a)(d,2),u=l[0],h=l[1],b=Object(j.useState)(!1),p=Object(o.a)(b,2),O=p[0],m=p[1],f=[{icon:Object(x.jsx)(G.a,{}),name:"Add",handleOpen:function(){return h(!0)}},{icon:Object(x.jsx)(Q.a,{}),name:"Settings",handleOpen:function(){return m(!0)}}];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(V.a,{ariaLabel:"More",style:{position:"fixed",bottom:"20px",right:"20px"},icon:Object(x.jsx)(X.a,{}),children:f.map((function(e){var t=e.icon,n=e.name,a=e.handleOpen;return Object(x.jsx)(q.a,{icon:t,tooltipTitle:n,onClick:a},n)}))}),Object(x.jsx)(se,{open:u,cardsLeft:t,cardsRight:n,setOpen:h,setCards:c}),Object(x.jsx)(ue,{open:O,themeType:a,unitType:r,setOpen:m,setThemeType:i,setUnitType:s})]})}function be(e){var t=e.loading,n=e.weather;return Object(x.jsx)(P,{children:Object(x.jsx)(p.a,{variant:"h3",component:"h1",children:t?Object(x.jsx)(O.a,{}):"".concat(n.name,", ").concat(n.sys.country)})})}var pe=n(176),Oe=n(154);function xe(){var e=Object(j.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(j.useState)(!0),c=Object(o.a)(r,2),i=c[0],s=c[1];return i?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.a,{severity:"info",action:Object(x.jsx)(me,{setAboutOpen:a,setDisplay:s}),style:{margin:"0.25em"},children:Object(x.jsx)(pe.a,{children:"Cookies are delicious!!!"})}),Object(x.jsx)(fe,{open:n,setDisplay:s,setOpen:a})]}):Object(x.jsx)(x.Fragment,{})}function me(e){var t=e.setAboutOpen,n=e.setDisplay;return Object(x.jsxs)(_.a,{container:!0,spacing:1,children:[Object(x.jsx)(_.a,{item:!0,children:Object(x.jsx)(N.a,{onClick:function(){return t(!0)},children:Object(x.jsx)(Oe.a,{})})}),Object(x.jsx)(_.a,{item:!0,children:Object(x.jsx)(D.a,{variant:"contained",onClick:function(){return n(!1)},children:"Agree"})})]})}function fe(e){var t=e.open,n=e.setDisplay,a=e.setOpen,r=function(){a(!1)};return Object(x.jsxs)(Z.a,{fullWidth:!0,open:t,onClose:r,PaperProps:{sx:{bgcolor:"background.default"}},children:[Object(x.jsx)(ee.a,{children:Object(x.jsx)(p.a,{children:"This website uses cookies to enhance the user experience. Cookies save data on your computer that is used to personalise content. "})}),Object(x.jsxs)(ce.a,{children:[Object(x.jsx)(D.a,{variant:"contained",onClick:function(){return n(!1)},children:"Agree"}),Object(x.jsx)(D.a,{onClick:r,children:"Close"})]})]})}n(112);var ge=n(85).api_key,ve=Object(b.a)({palette:{background:{default:"#3B3C40"},text:{primary:"#EFEFED"}}}),ye=Object(b.a)({palette:{background:{default:"#EFEFED"},text:{primary:"#000000"}}});function we(){var e=Object(j.useState)(["weather","sun","cloud","humidity"]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(j.useState)(["temperature","date","wind","visibility","pressure"]),c=Object(o.a)(r,2),i=c[0],s=c[1],b=Object(j.useState)(new Date),p=Object(o.a)(b,2),O=p[0],w=p[1],T=Object(j.useState)(""),S=Object(o.a)(T,2),D=S[0],I=S[1],R=Object(j.useState)(!0),P=Object(o.a)(R,2),A=P[0],_=P[1],K=Object(j.useState)("time"),M=Object(o.a)(K,2),W=M[0],N=M[1],H=Object(j.useState)("metric"),B=Object(o.a)(H,2),z=B[0],V=B[1],q=Object(j.useState)({coord:{lon:0,lat:0},weather:[{id:0,main:"",description:"",icon:""}],base:"",main:{temp:0,feels_like:0,temp_min:0,temp_max:0,pressure:0,humidity:0},visibility:0,wind:{speed:0,deg:0},clouds:{all:0},dt:0,sys:{type:0,id:0,country:"",sunrise:0,sunset:0},timezone:0,id:0,name:"",cod:0}),G=Object(o.a)(q,2),Q=G[0],X=G[1],Y=function(e,t,n,a){return[{name:"cloud",component:m({loading:e,weather:t})},{name:"date",component:f({currentDate:n})},{name:"humidity",component:g({loading:e,weather:t})},{name:"pressure",component:v({loading:e,unitType:a,weather:t})},{name:"sun",component:y({loading:e,weather:t})},{name:"temperature",component:C({loading:e,unitType:a,weather:t})},{name:"visibility",component:k({loading:e,weather:t})},{name:"weather",component:F({loading:e,weather:t})},{name:"wind",component:L({loading:e,unitType:a,weather:t})}]}(A,Q,O,z);return Object(j.useEffect)((function(){if(!navigator.geolocation)return I("Can't get your location weather");!function(e,t,n){var a=new d.a,r=["cloud","date","humidity","pressure","sun","temperature","visibility","weather","wind"],c=["dark","light","time"],i=a.get("cardsLeft"),s=a.get("cardsRight"),o=a.get("themeType");i&&e(i.split("|").filter((function(e){return r.includes(e)})));s&&t(s.split("|").filter((function(e){return r.includes(e)})));c.includes(o)&&n(o)}(a,s,N),Te().then((function(e){if(!e)return I("Can't get your location weather");X(e),_(!1);var t=e.sys.country.toUpperCase();"US"!==t&&"MM"!==t&&"LR"!==t||V("imperial")}));var e=setInterval((function(){Te().then((function(e){if(!e)return I("Can't get your location weather");X(e)}))}),36e5),t=setInterval((function(){w(new Date)}),100);return function(){clearInterval(e),clearInterval(t)}}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(E,{loading:A,weather:Q}),Object(x.jsxs)(u.a,{theme:"time"===W?"Night"===Se(Q,O)?ve:ye:"dark"===W?ve:ye,children:[Object(x.jsx)(h.a,{}),Object(x.jsx)(xe,{}),Boolean(D)&&Object(x.jsx)(l.a,{severity:"error",style:{margin:"0.25em"},children:D}),Object(x.jsx)(be,{loading:A,weather:Q}),Object(x.jsx)(J,{cardsLeft:n,cardsList:Y,cardsRight:i,setCardsLeft:a,setCardsRight:s}),Object(x.jsx)(U,{}),Object(x.jsx)(he,{cardLeft:n,cardRight:i,themeType:W,unitType:z,setCards:a,setThemeType:N,setUnitType:V})]})]})}function Te(){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(s.a)(i.a.mark((function e(){var t,n,a,r,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:return t=e.sent,n=Object(o.a)(t,2),a=n[0],r=n[1],c="https://api.openweathermap.org/data/2.5/weather?lat=".concat(a.toString(),"&lon=").concat(r.toString(),"&appid=").concat(ge),e.next=9,fetch(c);case 9:if((s=e.sent).ok){e.next=12;break}return e.abrupt("return",null);case 12:return e.abrupt("return",s.json());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,a=n.latitude,r=n.longitude;e([a,r])}))}))}function Se(e,t){var n=new Date(1e3*e.sys.sunrise),a=new Date(1e3*e.sys.sunset);return t.getTime()>n.getTime()&&t.getTime()<a.getTime()?"Day":"Night"}r.a.render(Object(x.jsx)(we,{}),document.getElementById("root"))},85:function(e){e.exports=JSON.parse('{"api_key":"b5220e56efb144f47112992e18a84270"}')}},[[113,1,2]]]);
//# sourceMappingURL=main.420706e5.chunk.js.map